<!DOCTYPE html>
<html lang="pt-br">

<head>
  <link rel="shortcut icon" href="../assets/icon/favicon2.png" type="image/x-icon">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AquaTech | Avisos</title>
  <link rel="icon" href="./assets/icon/logo.png" />
  <link rel="stylesheet" href="../css/menu.css">
  <link rel="stylesheet" href="../css/cultura.css">
</head>

<body>
  <div class="container">
    <ul class="link-items">
      <div class="logo-container">
        <img src="../assets/icon/logo.png" alt="Logo AndesTrail" class="logo-menu">
      </div>
      <li class="link-item">
        <a href="index.html" class="link">
          <ion-icon name="home-outline"></ion-icon>
          <span style="--i: 1">In√≠cio</span>
        </a>
      </li>
      <li class="link-item">
        <a href="explorar.html" class="link">
          <ion-icon name="map-outline"></ion-icon>
          <span style="--i: 2">Explorar Pa√≠ses</span>
        </a>
      </li>
      <li class="link-item active">
        <a href="cultura.html" class="link">
          <ion-icon name="book-outline"></ion-icon>
          <span style="--i: 3">Cultura</span>
        </a>
      </li>
      <li class="link-item">
        <a href="galeria.html" class="link">
          <ion-icon name="images-outline"></ion-icon>
          <span style="--i: 4">Galeria</span>
        </a>
      </li>

      <li class="link-item">
        <a href="planejador.html" class="link">
          <ion-icon name="navigate-outline"></ion-icon>
          <span style="--i: 7">Planeje sua Viagem</span>
        </a>
      </li>
      <li class="link-item dark-mode">
        <a href="#" class="link">
          <ion-icon name="moon-outline"></ion-icon>
          <span style="--i: 8">Modo escuro</span>
        </a>
      </li>
      <li class="link-item">
        <a href="../index.html" class="link">
          <ion-icon name="log-out-outline"></ion-icon>
          <span style="--i: 10">Sair</span>
        </a>
      </li>
      <li class="link-item">
        <a href="#" class="link">
          <img src="../assets/icon/favicon2.png" alt="Imagem do usu√°rio">
          <span style="--i: 9">
            <div class="hello">
              <h3>Ol√°, <span id="b_usuario">usu√°rio</span>!</h3>
            </div>
            <p>Seja bem-vinda!</p>
          </span>
        </a>
      </li>
    </ul>
  </div>


  <div class="main-container">
    <section class="intro-cultura">
      <h1>Quer Saber Mais? </h1>
      <p>
        A m√∫sica latino-americana √© uma mistura vibrante de ritmos e hist√≥rias.<br />
        Descubra como o samba, a cumbia e o tango refletem as ra√≠zes de cada povo.
      </p>
      <p class="dica">Deixe a m√∫sica te guiar nessa viagem cultural! </p>
    </section>

    <section class="intro-cultura">
      <h1>Sabores que Encantam </h1>
      <p>
        A gastronomia da Am√©rica Latina √© cheia de sabores √∫nicos e ingredientes locais.<br />
        Experimente pratos t√≠picos como ceviche, empanadas e feijoada.
      </p>
      <p class="dica">Uma explos√£o de sabores espera por voc√™! üç¥</p>
    </section>

    <section class="intro-cultura">
      <h1>Tradi√ß√µes e Festivais </h1>
      <p>
        Conhe√ßa as festas tradicionais que celebram a cultura, a hist√≥ria e a f√© dos povos latino-americanos.<br />
        Carnaval, Inti Raymi e Fiesta de la Virgen s√£o s√≥ o come√ßo!
      </p>
      <p class="dica">Viva a alegria das tradi√ß√µes locais!</p>
    </section>
  </div>

  <div id="quizContainer">
    <div id="quizBox">
      <div id="perguntaTexto"></div>
      <button class="btn" onclick="responder('sim')">Sim</button>
      <button class="btn" onclick="responder('nao')">N√£o</button>

      <div id="resultado"></div>
      <button id="voltarBtn" onclick="reiniciarQuiz()">Voltar ao In√≠cio</button>
    </div>

    <div id="graficoBox">
      <canvas id="graficoEvolucao" width="400" height="300"></canvas>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script>
    const b_usuario = document.getElementById('b_usuario');
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO || 'usu√°rio';

    const perguntas = [
      { texto: "Voc√™ aprecia tradi√ß√µes locais e artesanato regional?", pais: "paraguai" },
      { texto: "Voc√™ gosta de m√∫sica animada como o samba ou o forr√≥?", pais: "brasil" },
      { texto: "Voc√™ curte o litoral caribenho e a alegria das pessoas?", pais: "col√¥mbia" },
      { texto: "Voc√™ gosta de dan√ßas como cumbia e reggaeton?", pais: "col√¥mbia" },
      { texto: "Voc√™ gosta de paisagens montanhosas e da cultura andina?", pais: "bol√≠via" },
      { texto: "Voc√™ gosta de lugares menos tur√≠sticos, mas cheios de hist√≥ria?", pais: "paraguai" },
      { texto: "Voc√™ gosta de climas variados e vulc√µes?", pais: "equador" },
      { texto: "Voc√™ admira a for√ßa e resist√™ncia de um povo em reconstru√ß√£o?", pais: "venezuela" },
      { texto: "Voc√™ aprecia o tango e a vida urbana de Buenos Aires?", pais: "argentina" },
      { texto: "Voc√™ gosta da culin√°ria com sabores fortes como ceviche?", pais: "peru" },
      { texto: "Voc√™ curte conhecer vilarejos hist√≥ricos e mercados locais?", pais: "bol√≠via" },
      { texto: "Voc√™ se atrai por tradi√ß√µes ind√≠genas e misturas hist√≥ricas?", pais: "peru" },
      { texto: "Voc√™ curte debates pol√≠ticos e literatura?", pais: "argentina" },
      { texto: "Voc√™ aprecia o mate como bebida do dia a dia?", pais: "uruguai" },
      { texto: "Voc√™ se sente atra√≠do pela cultura guarani e pela natureza verde?", pais: "paraguai" },
      { texto: "Voc√™ curte praias tropicais e ambientes caribenhos?", pais: "venezuela" },
      { texto: "Voc√™ gosta de aventuras em montanhas e neve?", pais: "chile" },
      { texto: "Voc√™ prefere cidades pequenas e estilo de vida calmo?", pais: "uruguai" },
      { texto: "Voc√™ gosta de vinhos e da tranquilidade dos pampas?", pais: "uruguai" },
      { texto: "Voc√™ gosta de carnes e vinhos como parte da cultura?", pais: "argentina" },
      { texto: "Voc√™ admira roupas e festivais tradicionais andinos?", pais: "bol√≠via" },
      { texto: "Voc√™ gosta de arepas e comidas tradicionais latinas?", pais: "venezuela" },
      { texto: "Voc√™ gosta de vinhos e da tranquilidade dos pampas?", pais: "uruguai" },
      { texto: "Voc√™ ama festas populares como o Carnaval?", pais: "brasil" },
      { texto: "Voc√™ adoraria visitar as Ilhas Gal√°pagos?", pais: "equador" },
      { texto: "Voc√™ gosta de aventuras em montanhas e neve?", pais: "chile" },
      { texto: "Voc√™ se interessa por culturas ind√≠genas e pela Amaz√¥nia?", pais: "equador" },
      { texto: "Voc√™ curte praias tropicais e natureza exuberante?", pais: "brasil" },
      { texto: "Voc√™ se interessa por ru√≠nas antigas como Machu Picchu?", pais: "peru" },
      { texto: "Voc√™ aprecia caf√© de qualidade e paisagens verdes?", pais: "col√¥mbia" },
      { texto: "Voc√™ gostaria de visitar o deserto do Atacama e ver paisagens √∫nicas?", pais: "chile" },
      { texto: "Voc√™ se atrai por cultura urbana e contrastes geogr√°ficos?", pais: "chile" }
    ];



    var indice = 0;
    var contagem = {};

    const perguntaTexto = document.getElementById('perguntaTexto');
    const resultado = document.getElementById('resultado');
    const quizBox = document.getElementById('quizBox');

    // Inicializa gr√°ficooooooo0
    const paisesUnicos = [...new Set(perguntas.map(p => p.pais))];
    const ctx = document.getElementById('graficoEvolucao').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: [],
        datasets: paisesUnicos.map(pais => ({
          label: pais,
          data: [],
          fill: false,
          borderColor: corAleatoria(),
          tension: 0.80
        }))
      },
      options: {
        scales: {
          y: { beginAtZero: true }
        },
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });

    function corAleatoria() {
      return `hsl(${Math.floor(Math.random() * 360)}, 70%, 50%)`;
    }

    function atualizarGrafico() {
      chart.data.labels.push(`Pergunta ${indice + 1}`);
      perguntas.forEach((p, i) => {
        const ds = chart.data.datasets.find(d => d.label === p.pais);
        ds.data.push(contagem[p.pais] || 0);
      });
      chart.update();
    }

    function mostrarPergunta() {
      if (indice < perguntas.length) {
        perguntaTexto.textContent = perguntas[indice].texto;
      } else {
        mostrarResultado();
      }
    }

    function responder(resposta) {
      if (resposta === 'sim') {
        const pais = perguntas[indice].pais;
        contagem[pais] = (contagem[pais] || 0) + 1;
      }
      atualizarGrafico();
      indice++;
      mostrarPergunta();
    }
    
    function mostrarResultado() {
      // Esconde a pergunta e os bot√µes de resposta <3
      perguntaTexto.style.display = 'none';

      const botoes = quizBox.querySelectorAll('button.btn');
      botoes.forEach(botao => botao.style.display = 'none');

      // calcula o pais com mais afinidade
      var paisMaisFrequente = null;
      var max = 0;
      for (var pais in contagem) {
        if (contagem[pais] > max) {
          max = contagem[pais];
          paisMaisFrequente = pais;
        }
      }

      if (paisMaisFrequente) {
        const nomePais = paisMaisFrequente.charAt(0).toUpperCase() + paisMaisFrequente.slice(1);
        resultado.innerHTML = `Voc√™ tem mais afinidade com: <strong>${nomePais}</strong>! üåé`;
      } else {
        resultado.textContent = 'Nenhum pa√≠s correspondeu totalmente √†s suas respostas. Tente novamente!';
      }

      document.getElementById('voltarBtn').style.display = 'inline-block';
    }



    function reiniciarQuiz() {
      location.reload();
    }

    mostrarPergunta();
  </script>
  <!--Script-->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="../js/script.js"></script>
  <script>b_usuario.innerHTML = sessionStorage.NOME_USUARIO;</script>
</body>

</html>